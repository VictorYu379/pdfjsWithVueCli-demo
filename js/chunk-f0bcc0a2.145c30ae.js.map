{"version":3,"sources":["webpack:///./src/external/webL10n/l10n.js","webpack:///./src/lib/preferences.js","webpack:///./src/lib/download_manager.js","webpack:///./src/lib/genericl10n.js","webpack:///./src/lib/genericcom.js"],"names":["document","webL10n","window","gL10nData","gTextData","gTextProp","gLanguage","gMacros","gReadyState","gAsyncResourceLoading","getL10nResourceLinks","querySelectorAll","getL10nDictionary","script","querySelector","JSON","parse","innerHTML","getTranslatableChildren","element","getL10nAttributes","l10nId","getAttribute","l10nArgs","args","e","console","warn","id","xhrLoadText","url","onSuccess","onFailure","data","xhr","XMLHttpRequest","open","overrideMimeType","onreadystatechange","readyState","status","responseText","onerror","ontimeout","send","parseResource","href","lang","successCallback","failureCallback","baseURL","replace","evalString","text","lastIndexOf","parseProperties","parsedPropertiesCallback","dictionary","reBlank","reComment","reSection","reImport","reSplit","parseRawLines","rawText","extendedSyntax","parsedRawLinesCallback","entries","split","currentLang","genericLang","skipLang","match","nextEntry","length","line","shift","test","exec","toLowerCase","loadImport","tmp","callback","content","response","key","prop","index","substring","loadLocale","clear","langLinks","langCount","onResourceLoaded","gResourceCount","i","resource","L10nResourceLink","load","dict","locales","default_locale","log","defaultLocale","anyCaseLang","link","this","getPluralRules","locales2rules","isIn","n","list","indexOf","isBetween","start","end","pluralRules","getL10nData","fallback","rv","str","substIndexes","substArguments","reIndex","reMatch","param","macroName","paramName","macro","reArgs","matched_text","arg","translateElement","l10n","getChildElementCount","children","childNodes","found","l","nodeType","nodeValue","textNode","createTextNode","insertBefore","firstChild","k","childElementCount","count","translateFragment","documentElement","elementCount","plural","parseFloat","isNaN","_pluralRules","get","fallbackString","getData","getText","getLanguage","setLanguage","getDirection","rtlList","shortCode","translate","getReadyState","ready","setTimeout","addEventListener","once","removeEventListener","defaultPreferences","getDefaultPreferences","PDFJSDev","Promise","resolve","json","reject","then","AppOptions","OptionKind","getAll","PREFERENCE","BasePreferences","constructor","Error","prefs","_initializedPromise","defaults","Object","defineProperty","value","freeze","writable","enumerable","configurable","assign","create","_readFromStorage","name","defaultValue","prefValue","undefined","prefObj","_writeToStorage","valueType","defaultType","toString","Number","isInteger","DISABLE_CREATE_OBJECT_URL","apiCompatibilityParams","disableCreateObjectURL","download","blobUrl","filename","a","createElement","click","target","body","appendChild","remove","DownloadManager","createValidAbsoluteUrl","contentType","navigator","msSaveBlob","Blob","type","createObjectURL","blob","downloadUrl","URL","GenericL10n","_lang","_ready","property","GenericCom","GenericPreferences","localStorage","setItem","stringify","getItem","GenericExternalServices","options","locale","DefaultExternalServices","PDFViewerApplication","externalServices"],"mappings":"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EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,GACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,IAAO,EACP,GAAM,GACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,GACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,IAAO,GACP,GAAM,EACN,GAAM,EACN,IAAO,GACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,GACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,GACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,GACN,GAAM,EACN,IAAO,EACP,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,GACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,GACN,IAAO,EACP,IAAO,EACP,IAAO,EACP,GAAM,EACN,IAAO,EACP,IAAO,EACP,GAAM,EACN,GAAM,GACN,IAAO,GACP,GAAM,GACN,GAAM,GACN,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,GACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,IAAO,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","file":"js/chunk-f0bcc0a2.145c30ae.js","sourcesContent":["/**\n * Copyright (c) 2011-2013 Fabien Cazenave, Mozilla.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n/*\n  Additional modifications for PDF.js project:\n    - Disables language initialization on page loading.\n    - Disables document translation on page loading.\n    - Removes consoleWarn and consoleLog and use console.log/warn directly.\n    - Removes window._ assignment.\n    - Remove compatibility code for OldIE.\n    - Replaces `String.prototype.substr()` with `String.prototype.substring()`.\n    - Removes `fireL10nReadyEvent` since the \"localized\" event it dispatches\n      is unused and may clash with an identically named event in the viewer.\n*/\n\n/*jshint browser: true, devel: true, es5: true, globalstrict: true */\n'use strict';\n\ndocument.webL10n = (function(window, document) {\n  var gL10nData = {};\n  var gTextData = '';\n  var gTextProp = 'textContent';\n  var gLanguage = '';\n  var gMacros = {};\n  var gReadyState = 'loading';\n\n\n  /**\n   * Synchronously loading l10n resources significantly minimizes flickering\n   * from displaying the app with non-localized strings and then updating the\n   * strings. Although this will block all script execution on this page, we\n   * expect that the l10n resources are available locally on flash-storage.\n   *\n   * As synchronous XHR is generally considered as a bad idea, we're still\n   * loading l10n resources asynchronously -- but we keep this in a setting,\n   * just in case... and applications using this library should hide their\n   * content until the `localized' event happens.\n   */\n\n  var gAsyncResourceLoading = true; // read-only\n\n\n  /**\n   * DOM helpers for the so-called \"HTML API\".\n   *\n   * These functions are written for modern browsers. For old versions of IE,\n   * they're overridden in the 'startup' section at the end of this file.\n   */\n\n  function getL10nResourceLinks() {\n    return document.querySelectorAll('link[type=\"application/l10n\"]');\n  }\n\n  function getL10nDictionary() {\n    var script = document.querySelector('script[type=\"application/l10n\"]');\n    // TODO: support multiple and external JSON dictionaries\n    return script ? JSON.parse(script.innerHTML) : null;\n  }\n\n  function getTranslatableChildren(element) {\n    return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n  }\n\n  function getL10nAttributes(element) {\n    if (!element)\n      return {};\n\n    var l10nId = element.getAttribute('data-l10n-id');\n    var l10nArgs = element.getAttribute('data-l10n-args');\n    var args = {};\n    if (l10nArgs) {\n      try {\n        args = JSON.parse(l10nArgs);\n      } catch (e) {\n        console.warn('could not parse arguments for #' + l10nId);\n      }\n    }\n    return { id: l10nId, args: args };\n  }\n\n  function xhrLoadText(url, onSuccess, onFailure) {\n    onSuccess = onSuccess || function _onSuccess(data) {};\n    onFailure = onFailure || function _onFailure() {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, gAsyncResourceLoading);\n    if (xhr.overrideMimeType) {\n      xhr.overrideMimeType('text/plain; charset=utf-8');\n    }\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200 || xhr.status === 0) {\n          onSuccess(xhr.responseText);\n        } else {\n          onFailure();\n        }\n      }\n    };\n    xhr.onerror = onFailure;\n    xhr.ontimeout = onFailure;\n\n    // in Firefox OS with the app:// protocol, trying to XHR a non-existing\n    // URL will raise an exception here -- hence this ugly try...catch.\n    try {\n      xhr.send(null);\n    } catch (e) {\n      onFailure();\n    }\n  }\n\n\n  /**\n   * l10n resource parser:\n   *  - reads (async XHR) the l10n resource matching `lang';\n   *  - imports linked resources (synchronously) when specified;\n   *  - parses the text data (fills `gL10nData' and `gTextData');\n   *  - triggers success/failure callbacks when done.\n   *\n   * @param {string} href\n   *    URL of the l10n resource to parse.\n   *\n   * @param {string} lang\n   *    locale (language) to parse. Must be a lowercase string.\n   *\n   * @param {Function} successCallback\n   *    triggered when the l10n resource has been successfully parsed.\n   *\n   * @param {Function} failureCallback\n   *    triggered when the an error has occurred.\n   *\n   * @return {void}\n   *    uses the following global variables: gL10nData, gTextData, gTextProp.\n   */\n\n  function parseResource(href, lang, successCallback, failureCallback) {\n    var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n    // handle escaped characters (backslashes) in a string\n    function evalString(text) {\n      if (text.lastIndexOf('\\\\') < 0)\n        return text;\n      return text.replace(/\\\\\\\\/g, '\\\\')\n                 .replace(/\\\\n/g, '\\n')\n                 .replace(/\\\\r/g, '\\r')\n                 .replace(/\\\\t/g, '\\t')\n                 .replace(/\\\\b/g, '\\b')\n                 .replace(/\\\\f/g, '\\f')\n                 .replace(/\\\\{/g, '{')\n                 .replace(/\\\\}/g, '}')\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/\\\\'/g, \"'\");\n    }\n\n    // parse *.properties text data into an l10n dictionary\n    // If gAsyncResourceLoading is false, then the callback will be called\n    // synchronously. Otherwise it is called asynchronously.\n    function parseProperties(text, parsedPropertiesCallback) {\n      var dictionary = {};\n\n      // token expressions\n      var reBlank = /^\\s*|\\s*$/;\n      var reComment = /^\\s*#|^\\s*$/;\n      var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n      var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n      var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/; // TODO: escape EOLs with '\\'\n\n      // parse the *.properties file into an associative array\n      function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n        var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n        var currentLang = '*';\n        var genericLang = lang.split('-', 1)[0];\n        var skipLang = false;\n        var match = '';\n\n        function nextEntry() {\n          // Use infinite loop instead of recursion to avoid reaching the\n          // maximum recursion limit for content with many lines.\n          while (true) {\n            if (!entries.length) {\n              parsedRawLinesCallback();\n              return;\n            }\n            var line = entries.shift();\n\n            // comment or blank line?\n            if (reComment.test(line))\n              continue;\n\n            // the extended syntax supports [lang] sections and @import rules\n            if (extendedSyntax) {\n              match = reSection.exec(line);\n              if (match) { // section start?\n                // RFC 4646, section 4.4, \"All comparisons MUST be performed\n                // in a case-insensitive manner.\"\n\n                currentLang = match[1].toLowerCase();\n                skipLang = (currentLang !== '*') &&\n                    (currentLang !== lang) && (currentLang !== genericLang);\n                continue;\n              } else if (skipLang) {\n                continue;\n              }\n              match = reImport.exec(line);\n              if (match) { // @import rule?\n                loadImport(baseURL + match[1], nextEntry);\n                return;\n              }\n            }\n\n            // key-value pair\n            var tmp = line.match(reSplit);\n            if (tmp && tmp.length == 3) {\n              dictionary[tmp[1]] = evalString(tmp[2]);\n            }\n          }\n        }\n        nextEntry();\n      }\n\n      // import another *.properties file\n      function loadImport(url, callback) {\n        xhrLoadText(url, function(content) {\n          parseRawLines(content, false, callback); // don't allow recursive imports\n        }, function () {\n          console.warn(url + ' not found.');\n          callback();\n        });\n      }\n\n      // fill the dictionary\n      parseRawLines(text, true, function() {\n        parsedPropertiesCallback(dictionary);\n      });\n    }\n\n    // load and parse l10n data (warning: global variables are used here)\n    xhrLoadText(href, function(response) {\n      gTextData += response; // mostly for debug\n\n      // parse *.properties text data into an l10n dictionary\n      parseProperties(response, function(data) {\n\n        // find attribute descriptions, if any\n        for (var key in data) {\n          var id, prop, index = key.lastIndexOf('.');\n          if (index > 0) { // an attribute has been specified\n            id = key.substring(0, index);\n            prop = key.substring(index + 1);\n          } else { // no attribute: assuming text content by default\n            id = key;\n            prop = gTextProp;\n          }\n          if (!gL10nData[id]) {\n            gL10nData[id] = {};\n          }\n          gL10nData[id][prop] = data[key];\n        }\n\n        // trigger callback\n        if (successCallback) {\n          successCallback();\n        }\n      });\n    }, failureCallback);\n  }\n\n  // load and parse all resources for the specified locale\n  function loadLocale(lang, callback) {\n    // RFC 4646, section 2.1 states that language tags have to be treated as\n    // case-insensitive. Convert to lowercase for case-insensitive comparisons.\n    if (lang) {\n      lang = lang.toLowerCase();\n    }\n\n    callback = callback || function _callback() {};\n\n    clear();\n    gLanguage = lang;\n\n    // check all <link type=\"application/l10n\" href=\"...\" /> nodes\n    // and load the resource files\n    var langLinks = getL10nResourceLinks();\n    var langCount = langLinks.length;\n    if (langCount === 0) {\n      // we might have a pre-compiled dictionary instead\n      var dict = getL10nDictionary();\n      if (dict && dict.locales && dict.default_locale) {\n        console.log('using the embedded JSON directory, early way out');\n        gL10nData = dict.locales[lang];\n        if (!gL10nData) {\n          var defaultLocale = dict.default_locale.toLowerCase();\n          for (var anyCaseLang in dict.locales) {\n            anyCaseLang = anyCaseLang.toLowerCase();\n            if (anyCaseLang === lang) {\n              gL10nData = dict.locales[lang];\n              break;\n            } else if (anyCaseLang === defaultLocale) {\n              gL10nData = dict.locales[defaultLocale];\n            }\n          }\n        }\n        callback();\n      } else {\n        console.log('no resource to load, early way out');\n      }\n      // early way out\n      gReadyState = 'complete';\n      return;\n    }\n\n    // start the callback when all resources are loaded\n    var onResourceLoaded = null;\n    var gResourceCount = 0;\n    onResourceLoaded = function() {\n      gResourceCount++;\n      if (gResourceCount >= langCount) {\n        callback();\n        gReadyState = 'complete';\n      }\n    };\n\n    // load all resource files\n    function L10nResourceLink(link) {\n      var href = link.href;\n      // Note: If |gAsyncResourceLoading| is false, then the following callbacks\n      // are synchronously called.\n      this.load = function(lang, callback) {\n        parseResource(href, lang, callback, function() {\n          console.warn(href + ' not found.');\n          // lang not found, used default resource instead\n          console.warn('\"' + lang + '\" resource not found');\n          gLanguage = '';\n          // Resource not loaded, but we still need to call the callback.\n          callback();\n        });\n      };\n    }\n\n    for (var i = 0; i < langCount; i++) {\n      var resource = new L10nResourceLink(langLinks[i]);\n      resource.load(lang, onResourceLoaded);\n    }\n  }\n\n  // clear all l10n data\n  function clear() {\n    gL10nData = {};\n    gTextData = '';\n    gLanguage = '';\n    // TODO: clear all non predefined macros.\n    // There's no such macro /yet/ but we're planning to have some...\n  }\n\n\n  /**\n   * Get rules for plural forms (shared with JetPack), see:\n   * http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html\n   * https://github.com/mozilla/addon-sdk/blob/master/python-lib/plural-rules-generator.p\n   *\n   * @param {string} lang\n   *    locale (language) used.\n   *\n   * @return {Function}\n   *    returns a function that gives the plural form name for a given integer:\n   *       var fun = getPluralRules('en');\n   *       fun(1)    -> 'one'\n   *       fun(0)    -> 'other'\n   *       fun(1000) -> 'other'.\n   */\n\n  function getPluralRules(lang) {\n    var locales2rules = {\n      'af': 3,\n      'ak': 4,\n      'am': 4,\n      'ar': 1,\n      'asa': 3,\n      'az': 0,\n      'be': 11,\n      'bem': 3,\n      'bez': 3,\n      'bg': 3,\n      'bh': 4,\n      'bm': 0,\n      'bn': 3,\n      'bo': 0,\n      'br': 20,\n      'brx': 3,\n      'bs': 11,\n      'ca': 3,\n      'cgg': 3,\n      'chr': 3,\n      'cs': 12,\n      'cy': 17,\n      'da': 3,\n      'de': 3,\n      'dv': 3,\n      'dz': 0,\n      'ee': 3,\n      'el': 3,\n      'en': 3,\n      'eo': 3,\n      'es': 3,\n      'et': 3,\n      'eu': 3,\n      'fa': 0,\n      'ff': 5,\n      'fi': 3,\n      'fil': 4,\n      'fo': 3,\n      'fr': 5,\n      'fur': 3,\n      'fy': 3,\n      'ga': 8,\n      'gd': 24,\n      'gl': 3,\n      'gsw': 3,\n      'gu': 3,\n      'guw': 4,\n      'gv': 23,\n      'ha': 3,\n      'haw': 3,\n      'he': 2,\n      'hi': 4,\n      'hr': 11,\n      'hu': 0,\n      'id': 0,\n      'ig': 0,\n      'ii': 0,\n      'is': 3,\n      'it': 3,\n      'iu': 7,\n      'ja': 0,\n      'jmc': 3,\n      'jv': 0,\n      'ka': 0,\n      'kab': 5,\n      'kaj': 3,\n      'kcg': 3,\n      'kde': 0,\n      'kea': 0,\n      'kk': 3,\n      'kl': 3,\n      'km': 0,\n      'kn': 0,\n      'ko': 0,\n      'ksb': 3,\n      'ksh': 21,\n      'ku': 3,\n      'kw': 7,\n      'lag': 18,\n      'lb': 3,\n      'lg': 3,\n      'ln': 4,\n      'lo': 0,\n      'lt': 10,\n      'lv': 6,\n      'mas': 3,\n      'mg': 4,\n      'mk': 16,\n      'ml': 3,\n      'mn': 3,\n      'mo': 9,\n      'mr': 3,\n      'ms': 0,\n      'mt': 15,\n      'my': 0,\n      'nah': 3,\n      'naq': 7,\n      'nb': 3,\n      'nd': 3,\n      'ne': 3,\n      'nl': 3,\n      'nn': 3,\n      'no': 3,\n      'nr': 3,\n      'nso': 4,\n      'ny': 3,\n      'nyn': 3,\n      'om': 3,\n      'or': 3,\n      'pa': 3,\n      'pap': 3,\n      'pl': 13,\n      'ps': 3,\n      'pt': 3,\n      'rm': 3,\n      'ro': 9,\n      'rof': 3,\n      'ru': 11,\n      'rwk': 3,\n      'sah': 0,\n      'saq': 3,\n      'se': 7,\n      'seh': 3,\n      'ses': 0,\n      'sg': 0,\n      'sh': 11,\n      'shi': 19,\n      'sk': 12,\n      'sl': 14,\n      'sma': 7,\n      'smi': 7,\n      'smj': 7,\n      'smn': 7,\n      'sms': 7,\n      'sn': 3,\n      'so': 3,\n      'sq': 3,\n      'sr': 11,\n      'ss': 3,\n      'ssy': 3,\n      'st': 3,\n      'sv': 3,\n      'sw': 3,\n      'syr': 3,\n      'ta': 3,\n      'te': 3,\n      'teo': 3,\n      'th': 0,\n      'ti': 4,\n      'tig': 3,\n      'tk': 3,\n      'tl': 4,\n      'tn': 3,\n      'to': 0,\n      'tr': 0,\n      'ts': 3,\n      'tzm': 22,\n      'uk': 11,\n      'ur': 3,\n      've': 3,\n      'vi': 0,\n      'vun': 3,\n      'wa': 4,\n      'wae': 3,\n      'wo': 0,\n      'xh': 3,\n      'xog': 3,\n      'yo': 0,\n      'zh': 0,\n      'zu': 3\n    };\n\n    // utility functions for plural rules methods\n    function isIn(n, list) {\n      return list.indexOf(n) !== -1;\n    }\n    function isBetween(n, start, end) {\n      return start <= n && n <= end;\n    }\n\n    // list of all plural rules methods:\n    // map an integer to the plural form name to use\n    var pluralRules = {\n      '0': function(n) {\n        return 'other';\n      },\n      '1': function(n) {\n        if ((isBetween((n % 100), 3, 10)))\n          return 'few';\n        if (n === 0)\n          return 'zero';\n        if ((isBetween((n % 100), 11, 99)))\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '2': function(n) {\n        if (n !== 0 && (n % 10) === 0)\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '3': function(n) {\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '4': function(n) {\n        if ((isBetween(n, 0, 1)))\n          return 'one';\n        return 'other';\n      },\n      '5': function(n) {\n        if ((isBetween(n, 0, 2)) && n != 2)\n          return 'one';\n        return 'other';\n      },\n      '6': function(n) {\n        if (n === 0)\n          return 'zero';\n        if ((n % 10) == 1 && (n % 100) != 11)\n          return 'one';\n        return 'other';\n      },\n      '7': function(n) {\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '8': function(n) {\n        if ((isBetween(n, 3, 6)))\n          return 'few';\n        if ((isBetween(n, 7, 10)))\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '9': function(n) {\n        if (n === 0 || n != 1 && (isBetween((n % 100), 1, 19)))\n          return 'few';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '10': function(n) {\n        if ((isBetween((n % 10), 2, 9)) && !(isBetween((n % 100), 11, 19)))\n          return 'few';\n        if ((n % 10) == 1 && !(isBetween((n % 100), 11, 19)))\n          return 'one';\n        return 'other';\n      },\n      '11': function(n) {\n        if ((isBetween((n % 10), 2, 4)) && !(isBetween((n % 100), 12, 14)))\n          return 'few';\n        if ((n % 10) === 0 ||\n            (isBetween((n % 10), 5, 9)) ||\n            (isBetween((n % 100), 11, 14)))\n          return 'many';\n        if ((n % 10) == 1 && (n % 100) != 11)\n          return 'one';\n        return 'other';\n      },\n      '12': function(n) {\n        if ((isBetween(n, 2, 4)))\n          return 'few';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '13': function(n) {\n        if ((isBetween((n % 10), 2, 4)) && !(isBetween((n % 100), 12, 14)))\n          return 'few';\n        if (n != 1 && (isBetween((n % 10), 0, 1)) ||\n            (isBetween((n % 10), 5, 9)) ||\n            (isBetween((n % 100), 12, 14)))\n          return 'many';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '14': function(n) {\n        if ((isBetween((n % 100), 3, 4)))\n          return 'few';\n        if ((n % 100) == 2)\n          return 'two';\n        if ((n % 100) == 1)\n          return 'one';\n        return 'other';\n      },\n      '15': function(n) {\n        if (n === 0 || (isBetween((n % 100), 2, 10)))\n          return 'few';\n        if ((isBetween((n % 100), 11, 19)))\n          return 'many';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '16': function(n) {\n        if ((n % 10) == 1 && n != 11)\n          return 'one';\n        return 'other';\n      },\n      '17': function(n) {\n        if (n == 3)\n          return 'few';\n        if (n === 0)\n          return 'zero';\n        if (n == 6)\n          return 'many';\n        if (n == 2)\n          return 'two';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '18': function(n) {\n        if (n === 0)\n          return 'zero';\n        if ((isBetween(n, 0, 2)) && n !== 0 && n != 2)\n          return 'one';\n        return 'other';\n      },\n      '19': function(n) {\n        if ((isBetween(n, 2, 10)))\n          return 'few';\n        if ((isBetween(n, 0, 1)))\n          return 'one';\n        return 'other';\n      },\n      '20': function(n) {\n        if ((isBetween((n % 10), 3, 4) || ((n % 10) == 9)) && !(\n            isBetween((n % 100), 10, 19) ||\n            isBetween((n % 100), 70, 79) ||\n            isBetween((n % 100), 90, 99)\n            ))\n          return 'few';\n        if ((n % 1000000) === 0 && n !== 0)\n          return 'many';\n        if ((n % 10) == 2 && !isIn((n % 100), [12, 72, 92]))\n          return 'two';\n        if ((n % 10) == 1 && !isIn((n % 100), [11, 71, 91]))\n          return 'one';\n        return 'other';\n      },\n      '21': function(n) {\n        if (n === 0)\n          return 'zero';\n        if (n == 1)\n          return 'one';\n        return 'other';\n      },\n      '22': function(n) {\n        if ((isBetween(n, 0, 1)) || (isBetween(n, 11, 99)))\n          return 'one';\n        return 'other';\n      },\n      '23': function(n) {\n        if ((isBetween((n % 10), 1, 2)) || (n % 20) === 0)\n          return 'one';\n        return 'other';\n      },\n      '24': function(n) {\n        if ((isBetween(n, 3, 10) || isBetween(n, 13, 19)))\n          return 'few';\n        if (isIn(n, [2, 12]))\n          return 'two';\n        if (isIn(n, [1, 11]))\n          return 'one';\n        return 'other';\n      }\n    };\n\n    // return a function that gives the plural form name for a given integer\n    var index = locales2rules[lang.replace(/-.*$/, '')];\n    if (!(index in pluralRules)) {\n      console.warn('plural form unknown for [' + lang + ']');\n      return function() { return 'other'; };\n    }\n    return pluralRules[index];\n  }\n\n  // pre-defined 'plural' macro\n  gMacros.plural = function(str, param, key, prop) {\n    var n = parseFloat(param);\n    if (isNaN(n))\n      return str;\n\n    // TODO: support other properties (l20n still doesn't...)\n    if (prop != gTextProp)\n      return str;\n\n    // initialize _pluralRules\n    if (!gMacros._pluralRules) {\n      gMacros._pluralRules = getPluralRules(gLanguage);\n    }\n    var index = '[' + gMacros._pluralRules(n) + ']';\n\n    // try to find a [zero|one|two] key if it's defined\n    if (n === 0 && (key + '[zero]') in gL10nData) {\n      str = gL10nData[key + '[zero]'][prop];\n    } else if (n == 1 && (key + '[one]') in gL10nData) {\n      str = gL10nData[key + '[one]'][prop];\n    } else if (n == 2 && (key + '[two]') in gL10nData) {\n      str = gL10nData[key + '[two]'][prop];\n    } else if ((key + index) in gL10nData) {\n      str = gL10nData[key + index][prop];\n    } else if ((key + '[other]') in gL10nData) {\n      str = gL10nData[key + '[other]'][prop];\n    }\n\n    return str;\n  };\n\n\n  /**\n   * l10n dictionary functions\n   */\n\n  // fetch an l10n object, warn if not found, apply `args' if possible\n  function getL10nData(key, args, fallback) {\n    var data = gL10nData[key];\n    if (!data) {\n      console.warn('#' + key + ' is undefined.');\n      if (!fallback) {\n        return null;\n      }\n      data = fallback;\n    }\n\n    /** This is where l10n expressions should be processed.\n      * The plan is to support C-style expressions from the l20n project;\n      * until then, only two kinds of simple expressions are supported:\n      *   {[ index ]} and {{ arguments }}.\n      */\n    var rv = {};\n    for (var prop in data) {\n      var str = data[prop];\n      str = substIndexes(str, args, key, prop);\n      str = substArguments(str, args, key);\n      rv[prop] = str;\n    }\n    return rv;\n  }\n\n  // replace {[macros]} with their values\n  function substIndexes(str, args, key, prop) {\n    var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n    var reMatch = reIndex.exec(str);\n    if (!reMatch || !reMatch.length)\n      return str;\n\n    // an index/macro has been found\n    // Note: at the moment, only one parameter is supported\n    var macroName = reMatch[1];\n    var paramName = reMatch[2];\n    var param;\n    if (args && paramName in args) {\n      param = args[paramName];\n    } else if (paramName in gL10nData) {\n      param = gL10nData[paramName];\n    }\n\n    // there's no macro parser yet: it has to be defined in gMacros\n    if (macroName in gMacros) {\n      var macro = gMacros[macroName];\n      str = macro(str, param, key, prop);\n    }\n    return str;\n  }\n\n  // replace {{arguments}} with their values\n  function substArguments(str, args, key) {\n    var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return str.replace(reArgs, function(matched_text, arg) {\n      if (args && arg in args) {\n        return args[arg];\n      }\n      if (arg in gL10nData) {\n        return gL10nData[arg];\n      }\n      console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n      return matched_text;\n    });\n  }\n\n  // translate an HTML element\n  function translateElement(element) {\n    var l10n = getL10nAttributes(element);\n    if (!l10n.id)\n      return;\n\n    // get the related l10n object\n    var data = getL10nData(l10n.id, l10n.args);\n    if (!data) {\n      console.warn('#' + l10n.id + ' is undefined.');\n      return;\n    }\n\n    // translate element (TODO: security checks?)\n    if (data[gTextProp]) { // XXX\n      if (getChildElementCount(element) === 0) {\n        element[gTextProp] = data[gTextProp];\n      } else {\n        // this element has element children: replace the content of the first\n        // (non-empty) child textNode and clear other child textNodes\n        var children = element.childNodes;\n        var found = false;\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n            if (found) {\n              children[i].nodeValue = '';\n            } else {\n              children[i].nodeValue = data[gTextProp];\n              found = true;\n            }\n          }\n        }\n        // if no (non-empty) textNode is found, insert a textNode before the\n        // first element child.\n        if (!found) {\n          var textNode = document.createTextNode(data[gTextProp]);\n          element.insertBefore(textNode, element.firstChild);\n        }\n      }\n      delete data[gTextProp];\n    }\n\n    for (var k in data) {\n      element[k] = data[k];\n    }\n  }\n\n  // webkit browsers don't currently support 'children' on SVG elements...\n  function getChildElementCount(element) {\n    if (element.children) {\n      return element.children.length;\n    }\n    if (typeof element.childElementCount !== 'undefined') {\n      return element.childElementCount;\n    }\n    var count = 0;\n    for (var i = 0; i < element.childNodes.length; i++) {\n      count += element.nodeType === 1 ? 1 : 0;\n    }\n    return count;\n  }\n\n  // translate an HTML subtree\n  function translateFragment(element) {\n    element = element || document.documentElement;\n\n    // check all translatable children (= w/ a `data-l10n-id' attribute)\n    var children = getTranslatableChildren(element);\n    var elementCount = children.length;\n    for (var i = 0; i < elementCount; i++) {\n      translateElement(children[i]);\n    }\n\n    // translate element itself if necessary\n    translateElement(element);\n  }\n\n  return {\n    // get a localized string\n    get: function(key, args, fallbackString) {\n      var index = key.lastIndexOf('.');\n      var prop = gTextProp;\n      if (index > 0) { // An attribute has been specified\n        prop = key.substring(index + 1);\n        key = key.substring(0, index);\n      }\n      var fallback;\n      if (fallbackString) {\n        fallback = {};\n        fallback[prop] = fallbackString;\n      }\n      var data = getL10nData(key, args, fallback);\n      if (data && prop in data) {\n        return data[prop];\n      }\n      return '{{' + key + '}}';\n    },\n\n    // debug\n    getData: function() { return gL10nData; },\n    getText: function() { return gTextData; },\n\n    // get|set the document language\n    getLanguage: function() { return gLanguage; },\n    setLanguage: function(lang, callback) {\n      loadLocale(lang, function() {\n        if (callback)\n          callback();\n      });\n    },\n\n    // get the direction (ltr|rtl) of the current language\n    getDirection: function() {\n      // http://www.w3.org/International/questions/qa-scripts\n      // Arabic, Hebrew, Farsi, Pashto, Urdu\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      var shortCode = gLanguage.split('-', 1)[0];\n      return (rtlList.indexOf(shortCode) >= 0) ? 'rtl' : 'ltr';\n    },\n\n    // translate an element or document fragment\n    translate: translateFragment,\n\n    // this can be used to prevent race conditions\n    getReadyState: function() { return gReadyState; },\n    ready: function(callback) {\n      if (!callback) {\n        return;\n      } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n        window.setTimeout(function() {\n          callback();\n        });\n      } else if (document.addEventListener) {\n        document.addEventListener('localized', function once() {\n          document.removeEventListener('localized', once);\n          callback();\n        });\n      }\n    }\n  };\n}) (window, document);\n","/* Copyright 2013 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet defaultPreferences = null;\nfunction getDefaultPreferences() {\n  if (!defaultPreferences) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"PRODUCTION\")) {\n      defaultPreferences = Promise.resolve(\n        PDFJSDev.json(\"$ROOT/build/default_preferences.json\")\n      );\n    } else {\n      defaultPreferences = new Promise(function (resolve, reject) {\n        import(\"./app_options.js\").then(resolve, reject);\n      }).then(function ({ AppOptions, OptionKind }) {\n        return AppOptions.getAll(OptionKind.PREFERENCE);\n      });\n    }\n  }\n  return defaultPreferences;\n}\n\n/**\n * BasePreferences - Abstract base class for storing persistent settings.\n *   Used for settings that should be applied to all opened documents,\n *   or every time the viewer is loaded.\n */\nclass BasePreferences {\n  constructor() {\n    if (this.constructor === BasePreferences) {\n      throw new Error(\"Cannot initialize BasePreferences.\");\n    }\n    this.prefs = null;\n\n    this._initializedPromise = getDefaultPreferences()\n      .then(defaults => {\n        Object.defineProperty(this, \"defaults\", {\n          value: Object.freeze(defaults),\n          writable: false,\n          enumerable: true,\n          configurable: false,\n        });\n\n        this.prefs = Object.assign(Object.create(null), defaults);\n        return this._readFromStorage(defaults);\n      })\n      .then(prefs => {\n        if (!prefs) {\n          return;\n        }\n        for (const name in prefs) {\n          const defaultValue = this.defaults[name],\n            prefValue = prefs[name];\n          // Ignore preferences not present in, or whose types don't match,\n          // the default values.\n          if (\n            defaultValue === undefined ||\n            typeof prefValue !== typeof defaultValue\n          ) {\n            continue;\n          }\n          this.prefs[name] = prefValue;\n        }\n      });\n  }\n\n  /**\n   * Stub function for writing preferences to storage.\n   * @param {Object} prefObj The preferences that should be written to storage.\n   * @returns {Promise} A promise that is resolved when the preference values\n   *                    have been written.\n   */\n  async _writeToStorage(prefObj) {\n    throw new Error(\"Not implemented: _writeToStorage\");\n  }\n\n  /**\n   * Stub function for reading preferences from storage.\n   * @param {Object} prefObj The preferences that should be read from storage.\n   * @returns {Promise} A promise that is resolved with an {Object} containing\n   *                    the preferences that have been read.\n   */\n  async _readFromStorage(prefObj) {\n    throw new Error(\"Not implemented: _readFromStorage\");\n  }\n\n  /**\n   * Reset the preferences to their default values and update storage.\n   * @returns {Promise} A promise that is resolved when the preference values\n   *                    have been reset.\n   */\n  async reset() {\n    await this._initializedPromise;\n    this.prefs = Object.assign(Object.create(null), this.defaults);\n    return this._writeToStorage(this.defaults);\n  }\n\n  /**\n   * Set the value of a preference.\n   * @param {string} name The name of the preference that should be changed.\n   * @param {boolean|number|string} value The new value of the preference.\n   * @returns {Promise} A promise that is resolved when the value has been set,\n   *                    provided that the preference exists and the types match.\n   */\n  async set(name, value) {\n    await this._initializedPromise;\n    const defaultValue = this.defaults[name];\n\n    if (defaultValue === undefined) {\n      throw new Error(`Set preference: \"${name}\" is undefined.`);\n    } else if (value === undefined) {\n      throw new Error(\"Set preference: no value is specified.\");\n    }\n    const valueType = typeof value;\n    const defaultType = typeof defaultValue;\n\n    if (valueType !== defaultType) {\n      if (valueType === \"number\" && defaultType === \"string\") {\n        value = value.toString();\n      } else {\n        throw new Error(\n          `Set preference: \"${value}\" is a ${valueType}, ` +\n            `expected a ${defaultType}.`\n        );\n      }\n    } else {\n      if (valueType === \"number\" && !Number.isInteger(value)) {\n        throw new Error(`Set preference: \"${value}\" must be an integer.`);\n      }\n    }\n    this.prefs[name] = value;\n    return this._writeToStorage(this.prefs);\n  }\n\n  /**\n   * Get the value of a preference.\n   * @param {string} name The name of the preference whose value is requested.\n   * @returns {Promise} A promise resolved with a {boolean|number|string}\n   *                    containing the value of the preference.\n   */\n  async get(name) {\n    await this._initializedPromise;\n    const defaultValue = this.defaults[name];\n\n    if (defaultValue === undefined) {\n      throw new Error(`Get preference: \"${name}\" is undefined.`);\n    } else {\n      const prefValue = this.prefs[name];\n\n      if (prefValue !== undefined) {\n        return prefValue;\n      }\n    }\n    return defaultValue;\n  }\n\n  /**\n   * Get the values of all preferences.\n   * @returns {Promise} A promise that is resolved with an {Object} containing\n   *                    the values of all preferences.\n   */\n  async getAll() {\n    await this._initializedPromise;\n    return Object.assign(Object.create(null), this.defaults, this.prefs);\n  }\n}\n\nexport { BasePreferences };\n","/* Copyright 2013 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  apiCompatibilityParams,\n  createObjectURL,\n  createValidAbsoluteUrl,\n} from \"./pdf\";\n\nif (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"CHROME || GENERIC\")) {\n  throw new Error(\n    'Module \"pdfjs-web/download_manager\" shall not be used ' +\n      \"outside CHROME and GENERIC builds.\"\n  );\n}\n\nconst DISABLE_CREATE_OBJECT_URL =\n  apiCompatibilityParams.disableCreateObjectURL || false;\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  // Use a.download if available. This increases the likelihood that\n  // the file is downloaded instead of opened by another PDF plugin.\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  // <a> must be in the document for IE and recent Firefox versions,\n  // otherwise .click() is ignored.\n  (document.body || document.documentElement).appendChild(a);\n  a.click();\n  a.remove();\n}\n\nclass DownloadManager {\n  constructor({ disableCreateObjectURL = DISABLE_CREATE_OBJECT_URL }) {\n    this.disableCreateObjectURL = disableCreateObjectURL;\n  }\n\n  downloadUrl(url, filename) {\n    if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n      return; // restricted/invalid URL\n    }\n    download(url + \"#pdfjs.action=download\", filename);\n  }\n\n  downloadData(data, filename, contentType) {\n    if (navigator.msSaveBlob) {\n      // IE10 and above\n      navigator.msSaveBlob(new Blob([data], { type: contentType }), filename);\n      return;\n    }\n    const blobUrl = createObjectURL(\n      data,\n      contentType,\n      this.disableCreateObjectURL\n    );\n    download(blobUrl, filename);\n  }\n\n  download(blob, url, filename) {\n    if (navigator.msSaveBlob) {\n      // IE10 / IE11\n      if (!navigator.msSaveBlob(blob, filename)) {\n        this.downloadUrl(url, filename);\n      }\n      return;\n    }\n\n    if (this.disableCreateObjectURL) {\n      // URL.createObjectURL is not supported\n      this.downloadUrl(url, filename);\n      return;\n    }\n\n    const blobUrl = URL.createObjectURL(blob);\n    download(blobUrl, filename);\n  }\n}\n\nexport { DownloadManager };\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"../external/webL10n/l10n.js\";\n\nconst webL10n = document.webL10n;\n\nclass GenericL10n {\n  constructor(lang) {\n    this._lang = lang;\n    this._ready = new Promise((resolve, reject) => {\n      webL10n.setLanguage(lang, () => {\n        resolve(webL10n);\n      });\n    });\n  }\n\n  async getLanguage() {\n    const l10n = await this._ready;\n    return l10n.getLanguage();\n  }\n\n  async getDirection() {\n    const l10n = await this._ready;\n    return l10n.getDirection();\n  }\n\n  async get(property, args, fallback) {\n    const l10n = await this._ready;\n    return l10n.get(property, args, fallback);\n  }\n\n  async translate(element) {\n    const l10n = await this._ready;\n    return l10n.translate(element);\n  }\n}\n\nexport { GenericL10n };\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DefaultExternalServices, PDFViewerApplication } from \"./app.js\";\nimport { BasePreferences } from \"./preferences.js\";\nimport { DownloadManager } from \"./download_manager.js\";\nimport { GenericL10n } from \"./genericl10n.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n  throw new Error(\n    'Module \"pdfjs-web/genericcom\" shall not be used outside ' +\n      \"GENERIC build.\"\n  );\n}\n\nconst GenericCom = {};\n\nclass GenericPreferences extends BasePreferences {\n  async _writeToStorage(prefObj) {\n    localStorage.setItem(\"pdfjs.preferences\", JSON.stringify(prefObj));\n  }\n\n  async _readFromStorage(prefObj) {\n    return JSON.parse(localStorage.getItem(\"pdfjs.preferences\"));\n  }\n}\n\nclass GenericExternalServices extends DefaultExternalServices {\n  static createDownloadManager(options) {\n    return new DownloadManager(options);\n  }\n\n  static createPreferences() {\n    return new GenericPreferences();\n  }\n\n  static createL10n({ locale = \"en-US\" }) {\n    return new GenericL10n(locale);\n  }\n}\nPDFViewerApplication.externalServices = GenericExternalServices;\n\nexport { GenericCom };\n"],"sourceRoot":""}